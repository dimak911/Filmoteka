!function(){function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},r={},a=n.parcelRequire7dbb;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in r){var n=r[e];delete r[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){r[e]=n},n.parcelRequire7dbb=a);var o=a("bpxeT"),i=a("2TvXO"),c="6f3a72a470b06bab99f8d69f54b4e2d3",d="https://api.themoviedb.org/3",s="".concat(d,"/trending/movie/week?api_key=").concat(c),l="".concat(d,"/search/movie"),u=("".concat(d,"/movie/"),o=a("bpxeT"),i=a("2TvXO"),a("dIxxU"));function m(e){return p.apply(this,arguments)}function p(){return(p=e(o)(e(i).mark((function n(t){var r;return e(i).wrap((function(n){for(;;)switch(n.prev=n.next){case 0:return n.prev=0,n.next=3,e(u).get("".concat(t));case 3:return r=n.sent,n.abrupt("return",r.data);case 7:n.prev=7,n.t0=n.catch(0),console.error(n.t0);case 10:case"end":return n.stop()}}),n,null,[[0,7]])})))).apply(this,arguments)}var f;o=a("bpxeT"),i=a("2TvXO");function v(e){var n=e.title,t=e.genre_ids,r=e.release_date,a=e.poster_path,o=r.slice(0,4),i=function(e){var n=f.genres.reduce((function(n,t){var r=t.id,a=t.name;return e.includes(r)&&n.push(a),n}),[]);n.length>3&&(n=n.slice(0,2)).push("Other");return n}(t).join(", ");return'<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" src="'.concat("https://image.tmdb.org/t/p/w500").concat(a,'" alt="').concat(n,' movie poster" loading="lazy">\n            \n            <div class="info">\n              <p class="info__item">').concat(n,'</p>\n              <div class="info-detail">\n                <p class="info-detail__item">').concat(i,'</p>\n                <p class="info-detail__item">').concat(o,"</p>\n              </div>\n            </div>\n            </a>\n          </li>")}function y(e){var n=e.map((function(e){return v(e)})).join("");document.querySelector(".gallery").insertAdjacentHTML("beforeend",n)}f=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}'),e(o)(e(i).mark((function n(){return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,m(s);case 2:y(e.sent.results);case 4:case"end":return e.stop()}}),n)})))();var g={form:document.querySelector(".header__form"),gallery:document.querySelector(".gallery")};function b(e,n){return m("".concat(l,"?api_key=").concat(c,"&query=").concat(e,"&page=").concat(n))}g.form&&g.form.addEventListener("submit",(function(e){return _.apply(this,arguments)}));var h="";function _(){return(_=e(o)(e(i).mark((function n(t){var r;return e(i).wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t.preventDefault(),k(),h=t.currentTarget.query.value.trim(),e.next=5,b(h);case 5:r=e.sent,t.target.reset(),y(r.results);case 8:case"end":return e.stop()}}),n)})))).apply(this,arguments)}function k(){g.gallery.innerHTML=""}document.querySelector(".backdrop"),document.querySelector('button[data-dismiss="modal"]');var w=document.querySelector(".footer__link"),L=document.querySelector(".backdrop-team"),T=document.querySelector(".modal-team__close-btn");function x(e){e.preventDefault(),"Escape"===e.code&&(L.classList.add("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),S())}function E(e){e.target.closest(".modal-team")||(L.classList.add("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),S())}function q(e){e.preventDefault(),L.classList.add("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),S()}function S(){document.removeEventListener("keydown",x),L.removeEventListener("click",E),T.removeEventListener("click",q)}w.addEventListener("click",(function(e){e.preventDefault(),L.classList.remove("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),document.addEventListener("keydown",x),L.addEventListener("click",E),T.addEventListener("click",q)}));var D=document.getElementById("myBtn");function O(){window.scrollTo({top:0,behavior:"smooth"})}window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?(D.style.display="block",D.addEventListener("click",O)):D.style.display="none"}}();
//# sourceMappingURL=index.f17bab04.js.map
