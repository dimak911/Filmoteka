function e(e){return e&&e.__esModule?e.default:e}function n(e,n,t,i){Object.defineProperty(e,n,{get:t,set:i,enumerable:!0,configurable:!0})}var t="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},i={},a={},o=t.parcelRequire7dbb;null==o&&((o=function(e){if(e in i)return i[e].exports;if(e in a){var n=a[e];delete a[e];var t={id:e,exports:{}};return i[e]=t,n.call(t.exports,t,t.exports),t.exports}var o=new Error("Cannot find module '"+e+"'");throw o.code="MODULE_NOT_FOUND",o}).register=function(e,n){a[e]=n},t.parcelRequire7dbb=o),o.register("5I0Ww",(function(e,n){var t=o("gWoIc"),i=o("edYM8");const a={backdrop:document.querySelector(".backdrop"),closeBtn:document.querySelector('button[data-dismiss="modal"]'),cardModal:document.querySelector(".gallery"),imgContainer:document.querySelector(".js-modal")},{backdrop:r,closeBtn:s,cardModal:c,imgContainer:l}=a;function d(e){e.preventDefault(),r.classList.add("is-hidden"),g()}function u(e){e.preventDefault(),"Escape"===e.key&&r.classList.add("is-hidden"),g()}function p(e){e.target.classList.contains("backdrop")&&(r.classList.add("is-hidden"),g())}function g(){s.removeEventListener("click",d),window.removeEventListener("keydown",u),r.removeEventListener("click",p)}let m;c.addEventListener("click",(function(e){if(e.preventDefault(),r.classList.remove("is-hidden"),"IMG"!==e.target.nodeName&&"H2"!==e.target.nodeName)return;m=e.target.dataset.id,function(e){const n=`${i.ID_URL}${e}?api_key=${i.API_KEY}&language=en-US`;(0,t.getMovies)(n).then((n=>{(function({title:e,original_title:n,vote_average:t,vote_count:a,popularity:o,genres:r,overview:s,poster_path:c}){const d=`\n      <div class="image-container">\n    <img \n    src="${i.BASE_IMG_URL}${c}"\n      alt="${e} movie poster}" \n      width="240" height="357" \n      class="image"\n      />\n    </div>\n    <div class="content">\n    <h2 class="title">${e}</h2>\n    <div class="properties">\n      <div class="titles">\n          <p class="property">Vote / Votes</p>\n          <p class="property">Popularity</p>\n          <p class="property">Original Title</p>\n          <p class="property">Genre</p>\n      </div>\n      <div class="values">\n          <p class="value"><span class="first-mark">${t}</span>&nbsp;/&nbsp;<span class="second-mark">${a}</span></p>\n          <p class="value">${o}</p>\n          <p class="value">${n}</p>\n          <p class="value">${(e=>e.map((e=>e.name)).join(", "))(r)}</p>\n          \n      </div>\n    </div>\n    <div class="about">\n      <p class="title">About</p>\n      <div class="about-container">\n          <p class="text">${s}</p>\n          \n          </div>\n            </div>\n            <div class="buttons">\n                <button class="button to-watched">add to Watched</button>\n                <button class="button to-queue">add to queue</button>\n            </div>\n        </div>\n    </div>\n      `;l.insertAdjacentHTML("afterbegin",d)})(n),r.setAttribute("id",e)}))}(m),s.addEventListener("click",d),window.addEventListener("keydown",u),r.addEventListener("click",p),l.innerHTML=""}))})),o.register("gWoIc",(function(t,i){n(t.exports,"getMovies",(function(){return r}));var a=o("2shzp");async function r(n){try{return(await e(a).get(`${n}`)).data}catch(e){console.error(e)}}})),o.register("edYM8",(function(e,t){n(e.exports,"API_KEY",(function(){return i})),n(e.exports,"TREND_URL",(function(){return a})),n(e.exports,"SEARCH_URL",(function(){return o})),n(e.exports,"ID_URL",(function(){return r})),n(e.exports,"BASE_IMG_URL",(function(){return s}));const i="6f3a72a470b06bab99f8d69f54b4e2d3",a=`https://api.themoviedb.org/3/trending/movie/week?api_key=${i}`,o=`https://api.themoviedb.org/3/search/movie?api_key=${i}`,r="https://api.themoviedb.org/3/movie/",s="https://image.tmdb.org/t/p/w500"})),o.register("2nhTy",(function(e,t){n(e.exports,"renderPagination",(function(){return s}));var i=o("gWoIc"),a=o("8LTZf");const r=document.querySelector(".pagination-wrap");function s(e,n){let t=[];e>1&&t.push(l(e-1,!0,"arrow-left")),e>=4&&t.push(l(1,!0,"first-button")),e>=5&&t.push(c()),e>=2&&(e>=3&&t.push(l(e-2)),t.push(l(e-1))),t.push(l(e,!1)),e<=n-1&&(t.push(l(e+1)),e<=n-2&&t.push(l(e+2))),e<n-3&&t.push(c()),e<=n-3&&t.push(l(n,!0,"last-button")),e<n&&t.push(l(e+1,!0,"arrow-right")),r.innerHTML="",t.forEach((e=>r.append(e)))}function c(){const e=document.createElement("span");return e.innerHTML='<span class="dots">...</span>',e}function l(e,n=!0,t=null){const i=function(){const e=document.createElement("button");return e.classList.add("pagination-button"),e}();return i.dataset.page=e,i.textContent=t&&t.includes("arrow")?"":e,t&&i.classList.add(t),n?i.addEventListener("click",d):i.classList.add("pagination-button--current"),i}function d(e){const n=e.target.dataset.page,t=`${localStorage.getItem("LAST_REQUESTED_URL")}&page=${n}`;(0,i.getMovies)(t).then((e=>{(0,a.renderMovieCards)(e.results),s(e.page,e.total_pages)}))}})),o.register("8LTZf",(function(e,t){n(e.exports,"renderMovieCards",(function(){return c}));var i=o("gWoIc"),a=o("1gd6l"),r=o("edYM8"),s=o("2nhTy");function c(e){const n=e.map((e=>(0,a.createMovieMarkup)(e))).join("");document.querySelector(".gallery").innerHTML=n}(async()=>{const e=await(0,i.getMovies)(r.TREND_URL);c(e.results),localStorage.setItem("LAST_REQUESTED_URL",r.TREND_URL),(0,s.renderPagination)(e.page,e.total_pages)})()})),o.register("1gd6l",(function(e,t){n(e.exports,"createMovieMarkup",(function(){return r}));var i=o("2eUFK"),a=o("edYM8");function r(e){const{title:n,genre_ids:t,release_date:o,poster_path:r,id:s}=e;let c="";void 0!==o&&o.length>4&&(c=o.slice(0,4));const l=function(e){let n=i.genres.reduce(((n,{id:t,name:i})=>(e.includes(t)&&n.push(i),n)),[]);n.length>3&&(n=n.slice(0,2),n.push("Other"));return n}(t).join(", ");return null===r?`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" src="https://dummyimage.com/395x574/000/fff.jpg&text=no+poster" alt="${n} movie poster" loading="lazy">\n            \n            <div class="info">\n              <p class="info__item">${n}</p>\n              <div class="info-detail">\n                <p class="info-detail__item">${l}</p>\n                <p class="info-detail__item">${c}</p>\n              </div>\n            </div>\n            </a>\n          </li>`:`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" data-id="${s}" src="${a.BASE_IMG_URL}${r}" alt="${n} movie poster" loading="lazy">\n            \n            <div class="info">\n              <p class="info__item">${n}</p>\n              <div class="info-detail">\n                <p class="info-detail__item">${l}</p>\n                <p class="info-detail__item">${c}</p>\n              </div>\n            </div>\n            </a>\n          </li>`}})),o.register("2eUFK",(function(e,n){e.exports=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}')})),o.register("9IiBV",(function(e,n){})),o.register("edpgF",(function(e,n){const t={queueBtn:document.querySelector("button.to-queue"),gallery:document.querySelector(".library-gallery")},{queueBtn:i,gallery:a}=t;i.addEventListener("click",(function(){const e=document.querySelector("backdrop").id;!function(e){return!!localStorage.getItem("queue").contains(e)}(e)?(i.textContent="Remove to queue",localStorage.setItem("queue",e)):(i.textContent="Add to queue",localStorage.removeItem("queue",e))}))}));
//# sourceMappingURL=my-library.611cdbea.js.map
