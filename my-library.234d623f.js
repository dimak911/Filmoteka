!function(){function e(e){return e&&e.__esModule?e.default:e}function t(e,t,n,o){Object.defineProperty(e,t,{get:n,set:o,enumerable:!0,configurable:!0})}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},o={},a={},i=n.parcelRequire7dbb;null==i&&((i=function(e){if(e in o)return o[e].exports;if(e in a){var t=a[e];delete a[e];var n={id:e,exports:{}};return o[e]=n,t.call(n.exports,n,n.exports),n.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,t){a[e]=t},n.parcelRequire7dbb=i),i.register("bx8wN",(function(e,t){var n=i("4g74k"),o=i("iUA6h"),a=i("jBwk9"),s=i("dULZn"),r=i("23Ajj");const c={backdrop:document.querySelector(".movie-backdrop"),closeBtn:document.querySelector('button[data-dismiss="modal"]'),cardModal:document.querySelector('ul[data-point="galery"]'),queueBtn:document.querySelector(".to-queue"),imgRef:document.querySelector(".image-container"),contentRef:document.querySelector(".content-markup"),addToWatchedButton:document.querySelector(".to-watched")},{backdrop:l,closeBtn:d,cardModal:u,queueBtn:p,imgRef:g,contentRef:m,addToWatchedButton:v}=c,f=document.getElementById("myBtn");function h(e){e.preventDefault(),l.classList.add("is-hidden"),(0,r.scrollFunction)(),S()}function y(e){e.preventDefault(),"Escape"===e.code&&(l.classList.add("is-hidden"),(0,r.scrollFunction)(),S())}function _(e){e.target.classList.contains("backdrop")&&(l.classList.add("is-hidden"),(0,r.scrollFunction)(),S())}function S(){d.removeEventListener("click",h),window.removeEventListener("keydown",y),l.removeEventListener("click",_),p.removeEventListener("click",a.onBtnQueueClick),v.removeEventListener("click",s.onAddToWatchedBtnClick),document.body.classList.toggle("modal-open")}let L;u&&u.addEventListener("click",(function(e){if(e.preventDefault(),"IMG"!==e.target.nodeName)return;l.classList.remove("is-hidden"),document.body.classList.toggle("modal-open"),f.style.display="none",L=e.target.dataset.id,l.setAttribute("id",L),function(e){const t=`${o.ID_URL}${e}?api_key=${o.API_KEY}&language=en-US`;(0,n.getMovies)(t).then((e=>{(function({title:e,original_title:t,vote_average:n,vote_count:a,popularity:i,genres:s,overview:r,poster_path:c}){let l=`\n  <img \n    src="${o.BASE_IMG_URL}${c}"\n      alt="${e} movie poster}" \n      width="375" height="478" \n      class="image"\n      />`;null===c&&(l=`\n  <img \n    src="https://dummyimage.com/395x574/000/fff.jpg&text=no+poster"\n      alt="${e} movie poster}" \n      width="395" height="574" \n      class="image"\n      />`);const d=`\n  <h2 class="title">${e}</h2>\n  <div class="properties">\n      <div class="titles">\n          <p class="property">Vote / Votes</p>\n          <p class="property">Popularity</p>\n          <p class="property">Original Title</p>\n          <p class="property">Genre</p>\n      </div>\n      <div class="values">\n          <p class="value"><span class="first-mark">${n}</span>&nbsp;/&nbsp;<span class="second-mark">${a}</span></p>\n          <p class="value">${i}</p>\n          <p class="value">${t}</p>\n          <p class="value">${(e=>e.map((e=>e.name)).join(", "))(s)}</p>\n          \n      </div>\n  </div>\n  <div class="about">\n      <p class="title">About</p>\n      <div class="about-container">\n          <p class="text">${r}</p>          \n      </div>\n  </div>\n      `;g.innerHTML=l,m.innerHTML=d})(e)}))}(L),d.addEventListener("click",h),window.addEventListener("keydown",y),l.addEventListener("click",_),p.addEventListener("click",a.onBtnQueueClick),v.addEventListener("click",s.onAddToWatchedBtnClick),function(e){const t=localStorage.getItem("queue");if(null===t)return void(p.textContent="Add to queue");JSON.parse(t.includes(e))?p.textContent="Remove from queue":p.textContent="Add to queue"}(L),function(e){const t=localStorage.getItem("watched");if(null===t)return void(v.textContent="Add to watched");JSON.parse(t.includes(e))?v.textContent="Remove from watched":v.textContent="Add to watched"}(L)}))})),i.register("4g74k",(function(n,o){t(n.exports,"getMovies",(function(){return s}));var a=i("dIxxU");async function s(t){try{return(await e(a).get(`${t}`)).data}catch(e){console.error(e)}}})),i.register("iUA6h",(function(e,n){t(e.exports,"API_KEY",(function(){return o})),t(e.exports,"TREND_URL",(function(){return a})),t(e.exports,"SEARCH_URL",(function(){return i})),t(e.exports,"ID_URL",(function(){return s})),t(e.exports,"BASE_IMG_URL",(function(){return r}));const o="6f3a72a470b06bab99f8d69f54b4e2d3",a=`https://api.themoviedb.org/3/trending/movie/week?api_key=${o}`,i=`https://api.themoviedb.org/3/search/movie?api_key=${o}`,s="https://api.themoviedb.org/3/movie/",r="https://image.tmdb.org/t/p/w500"})),i.register("jBwk9",(function(e,n){t(e.exports,"onBtnQueueClick",(function(){return m}));var o=i("4g74k"),a=i("iUA6h"),s=i("6Sco9");const r=document.querySelector(".to-queue"),c=document.querySelector(".backdrop"),l=document.querySelector(".library-text"),d=document.querySelector(".library-gallery"),u=document.querySelector('button[data-action="queue"]');let p=localStorage.getItem("queue"),g=JSON.parse(p);function m(){const e=c.id;var t;t=e,null===localStorage.getItem("queue")||JSON.parse(localStorage.getItem("queue").includes(t))?(r.textContent="Add to queue",s.localstorage.removeFilm("queue",e)):(r.textContent="Remove from queue",s.localstorage.setFilm("queue",e)),d&&v(),u&&u.focus()}function v(){var e;(p=localStorage.getItem("queue"),g=JSON.parse(p),d.innerHTML="",null!==p)?0!==g.length?(l.classList.contains("visually-hidden")||l.classList.add("visually-hidden"),e=p,JSON.parse(e).map((e=>{(function(e){const t=`${a.ID_URL}${e}?api_key=${a.API_KEY}&language=en-US`;return(0,o.getMovies)(t)})(e).then((e=>{!function(e){const t=function(e){const{title:t,genres:n,release_date:o,poster_path:i,vote_average:s,id:r}=e;let c="";void 0!==o&&o.length>4&&(c=o.slice(0,4));const l=function(e){let t=e.map((e=>e.name));return t.length>3&&(t=t.slice(0,2),t.push("Other")),t.join(", ")}(n);return`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" data-id="${r}" src="${a.BASE_IMG_URL}${i}" alt="${t} movie poster" loading="lazy">\n\n            <div class="info">\n              <p class="info__item">${t}</p>\n              <div class="info-detail">\n                <p class="info-detail__item">${l}</p>\n                <p class="info-detail__item">${c} <span class="points">${s}</span></p>\n              </div>\n            </div>\n            </a>\n          </li>`}(e);d.insertAdjacentHTML("beforeend",t)}(e)}))}))):f():f()}function f(){d.innerHTML="",l.classList.remove("visually-hidden")}u&&u.focus(),u&&v(),u&&u.addEventListener("click",v)})),i.register("6Sco9",(function(e,n){t(e.exports,"localstorage",(function(){return o}));const o={loadData(e){const t=localStorage.getItem(e);return JSON.parse(t)},saveData(e,t){const n=JSON.stringify(t);localStorage.setItem(e,n)},setFilm(e,t){const n=this.getMovies(e);n.push(t),this.saveData(e,n)},removeFilm(e,t){const n=this.getMovies(e);n.includes(t)&&(n.splice(n.indexOf(t),1),this.saveData(e,n))},getMovies(e){const t=this.loadData(e);return t||(this.saveData(e,[]),[])}}})),i.register("dULZn",(function(e,n){t(e.exports,"onAddToWatchedBtnClick",(function(){return p}));var o=i("iUA6h"),a=i("4g74k"),s=i("6Sco9");const r=document.querySelector(".to-watched"),c=document.querySelector(".backdrop"),l=document.querySelector(".library-text"),d=document.querySelector(".library-gallery"),u=document.querySelector('button[data-action="watched"]');function p(){const e=c.id;var t;t=e,null===localStorage.getItem("watched")||JSON.parse(localStorage.getItem("watched").includes(t))?(r.textContent="Add to watched",s.localstorage.removeFilm("watched",e)):(r.textContent="Remove from watched",s.localstorage.setFilm("watched",e)),d&&v(),u&&u.focus()}let g,m;function v(){var e;(g=localStorage.getItem("watched"),m=JSON.parse(g),d.innerHTML="",null!==g)?0!==m.length?(l.classList.contains("visually-hidden")||l.classList.add("visually-hidden"),e=g,JSON.parse(e).map((e=>{(function(e){const t=`${o.ID_URL}${e}?api_key=${o.API_KEY}&language=en-US`;return(0,a.getMovies)(t)})(e).then((e=>{!function(e){const t=function(e){const{title:t,genres:n,release_date:a,poster_path:i,vote_average:s,id:r}=e;let c="";void 0!==a&&a.length>4&&(c=a.slice(0,4));const l=function(e){let t=e.map((e=>e.name));return t.length>3&&(t=t.slice(0,2),t.push("Other")),t.join(", ")}(n);return`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" data-id="${r}" src="${o.BASE_IMG_URL}${i}" alt="${t} movie poster" loading="lazy">\n\n            <div class="info">\n              <p class="info__item">${t}</p>\n              <div class="info-detail">\n                <p class="info-detail__item">${l}</p>\n                <p class="info-detail__item">${c} <span class="points">${s}</span></p>\n              </div>\n            </div>\n            </a>\n          </li>`}(e);d.insertAdjacentHTML("beforeend",t)}(e)}))}))):f():f()}function f(){d.innerHTML="",l.classList.remove("visually-hidden")}u&&u.addEventListener("click",v)}))}();
//# sourceMappingURL=my-library.234d623f.js.map
