{"mappings":"qhBAAA,IAAAA,EAAAC,EAAA,SAEA,MAAMC,GAAQ,IAAIC,MAAOC,cAAcC,MAAM,EAAG,KAMhDC,eAA2BC,GACzB,IAEE,aADqBC,EAAAR,GAAMS,IAAIF,IACjBG,KAAKC,SACnB,MAAOC,GACPC,QAAQD,MAAMA,KAIlBE,CAZ0B,kDAkD1B,WACE,MAAMC,EAAM,IAAIZ,KAEhB,OAAO,IAAIA,KAAKY,EAAIC,cAAeD,EAAIE,WAAYF,EAAIG,UAAY,GAChEd,cACAC,MAAM,EAAG,IAzDQc,SAE6EjB,6FAYpEkB,MAAKC,KAIpC,SAAoBC,GAClB,MAAMC,EAAiBD,EAAKE,KAAIC,GAOlC,SAA8BC,GAC5B,MAAMC,WACJA,EAAUC,YACVA,EAAWC,MACXA,EAAKC,QACLA,EACAC,QAAUC,KAAMC,GAAYC,OAC5BA,EAAMC,YACNA,EAAW5B,IACXA,GACEmB,EAEJ,MAAO,8EACuCC,WAAoBC,oIAEtBC,6EACsBD,uDACrBE,yDACEvB,+HACY0B,qEACAC,yEACIC,6CA5BvBC,CAAqBX,KAAOY,KAAK,IAEzEC,SACGC,cAAc,aACdC,mBAAmB,YAAajB,GARnCkB,CAAWpB,MClBb,MAAMqB,EAAUJ,SAASC,cAAc,iBACjCI,EAAkBL,SAASC,cAAc,kBACzCK,EAAcN,SAASC,cAAc,0BAe3C,SAASM,EAAWC,GAClBA,EAAMC,iBAEa,WAAfD,EAAME,OAIVL,EAAgBM,UAAUC,IAAI,4BAC9BZ,SAASa,KAAKF,UAAUG,OAAO,cAE/BC,KAGF,SAASC,EAAgBR,GACnBA,EAAMS,OAAOC,QAAQ,iBAIzBb,EAAgBM,UAAUC,IAAI,4BAC9BZ,SAASa,KAAKF,UAAUG,OAAO,cAE/BC,KAGF,SAASI,EAAgBX,GACvBA,EAAMC,iBAENJ,EAAgBM,UAAUC,IAAI,4BAC9BZ,SAASa,KAAKF,UAAUG,OAAO,cAE/BC,IAGF,SAASA,IACPf,SAASoB,oBAAoB,UAAWb,GACxCF,EAAgBe,oBAAoB,QAASJ,GAC7CV,EAAYc,oBAAoB,QAASD,GAjD3Cf,EAAQiB,iBAAiB,SAEzB,SAAyBC,GACvBA,EAAEb,iBAEFJ,EAAgBM,UAAUY,OAAO,4BACjCvB,SAASa,KAAKF,UAAUG,OAAO,cAE/Bd,SAASqB,iBAAiB,UAAWd,GACrCF,EAAgBgB,iBAAiB,QAASL,GAC1CV,EAAYe,iBAAiB,QAASF,MCbxC,MAAMK,EAAWxB,SAASyB,eAAe,SAezC,SAASC,IACPC,OAAOC,SAAS,CACdC,IAAK,EACLC,SAAU,WAhBdH,OAAOI,SAAW,WAKZ/B,SAASa,KAAKmB,UAAY,IAAMhC,SAASiC,gBAAgBD,UAAY,IACvER,EAASU,MAAMC,QAAU,QACzBX,EAASH,iBAAiB,QAASK,IAEnCF,EAASU,MAAMC,QAAU","sources":["src/js/newsfeed-render.js","src/js/team-modal.js","src/js/scroll-up.js"],"sourcesContent":["import axios from 'axios';\n\nconst today = new Date().toISOString().slice(0, 10);\nconst lastWeeksDate = getLastWeeksDate();\nconst query = 'movie';\nconst NEWS_URL_BY_QUERY = `https://newsapi.org/v2/everything?q=${query}&from=${lastWeeksDate}&to=${today}&language=en&sortBy=relevancy&pageSize=20&page=1&apiKey=262f56bb0a9143c7aea90930d1daf721`;\nconst NEWS_URL_TOP_HEADLINES = `https://newsapi.org/v2/top-headlines?category=entertainment&country=us&apiKey=262f56bb0a9143c7aea90930d1daf721`;\n\nasync function getNewsFeed(url) {\n  try {\n    const result = await axios.get(url);\n    return result.data.articles;\n  } catch (error) {\n    console.error(error);\n  }\n}\n\ngetNewsFeed(NEWS_URL_BY_QUERY).then(newsArticles => {\n  renderNews(newsArticles);\n});\n\nfunction renderNews(news) {\n  const newsFeedMarkup = news.map(item => createNewsCardMarkup(item)).join('');\n\n  document\n    .querySelector('.newsfeed')\n    .insertAdjacentHTML('beforeend', newsFeedMarkup);\n}\n\nfunction createNewsCardMarkup(newsItem) {\n  const {\n    urlToImage,\n    description,\n    title,\n    content,\n    source: { name: sourceName },\n    author,\n    publishedAt,\n    url,\n  } = newsItem;\n\n  return `<li class=\"news-item-card\">\n            <img class=\"news-item-image\" src=\"${urlToImage}\" alt=\"${description}\" loading=\"lazy\">            \n            <div class=\"news-item-content-wrapper\">\n                <h2 class=\"news-item-title\">${title}</h2>\n                <p class=\"news-item-description\"><b>Overview: </b>${description}</p>\n                <p class=\"news-item-content\">${content}</p>\n                <a class=\"news-item-btn\" href=\"${url}\" target=\"_blank\"><button type=\"button\">Read more</button></a>\n                <p class=\"news-item-source\"><b>Source: </b>${sourceName}</p>\n                <p class=\"news-item-author\"><b>Author: </b>${author}</p>\n                <p class=\"news-item-date\"><b>Published At: </b>${publishedAt}</p>\n            </div>\n          </li>`;\n}\n\nfunction getLastWeeksDate() {\n  const now = new Date();\n\n  return new Date(now.getFullYear(), now.getMonth(), now.getDate() - 7)\n    .toISOString()\n    .slice(0, 10);\n}\n","const teamRef = document.querySelector('.footer__link');\nconst backdropTeamRef = document.querySelector('.backdrop-team');\nconst closeBtnRef = document.querySelector('.modal-team__close-btn');\n\nteamRef.addEventListener('click', onGoitteamClick);\n\nfunction onGoitteamClick(e) {\n  e.preventDefault();\n\n  backdropTeamRef.classList.remove('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  document.addEventListener('keydown', onEscClick);\n  backdropTeamRef.addEventListener('click', onBackdropClick);\n  closeBtnRef.addEventListener('click', onCloseBtnClick);\n}\n\nfunction onEscClick(event) {\n  event.preventDefault();\n\n  if (event.code !== 'Escape') {\n    return;\n  }\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction onBackdropClick(event) {\n  if (event.target.closest('.modal-team')) {\n    return;\n  }\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction onCloseBtnClick(event) {\n  event.preventDefault();\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction removeAllEventListenersTeamModal() {\n  document.removeEventListener('keydown', onEscClick);\n  backdropTeamRef.removeEventListener('click', onBackdropClick);\n  closeBtnRef.removeEventListener('click', onCloseBtnClick);\n}\n","// scroll to top\nconst toTopBtn = document.getElementById('myBtn');\n\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    toTopBtn.style.display = 'block';\n    toTopBtn.addEventListener('click', topFunction);\n  } else {\n    toTopBtn.style.display = 'none';\n  }\n}\n\nfunction topFunction() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n"],"names":["$2shzp","parcelRequire","$6f14e3e64ea58a5e$var$today","Date","toISOString","slice","async","url","$parcel$interopDefault","get","data","articles","error","console","$6f14e3e64ea58a5e$var$getNewsFeed","now","getFullYear","getMonth","getDate","$6f14e3e64ea58a5e$var$getLastWeeksDate","then","newsArticles","news","newsFeedMarkup","map","item","newsItem","urlToImage","description","title","content","source","name","sourceName","author","publishedAt","$6f14e3e64ea58a5e$var$createNewsCardMarkup","join","document","querySelector","insertAdjacentHTML","$6f14e3e64ea58a5e$var$renderNews","$8221e5996eb79faa$var$teamRef","$8221e5996eb79faa$var$backdropTeamRef","$8221e5996eb79faa$var$closeBtnRef","$8221e5996eb79faa$var$onEscClick","event","preventDefault","code","classList","add","body","toggle","$8221e5996eb79faa$var$removeAllEventListenersTeamModal","$8221e5996eb79faa$var$onBackdropClick","target","closest","$8221e5996eb79faa$var$onCloseBtnClick","removeEventListener","addEventListener","e","remove","$52650fc44c8b8200$var$toTopBtn","getElementById","$52650fc44c8b8200$var$topFunction","window","scrollTo","top","behavior","onscroll","scrollTop","documentElement","style","display"],"version":3,"file":"newsfeed.7bbeea3e.js.map"}