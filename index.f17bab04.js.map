{"mappings":"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","sources":["src/js/search.js","src/js/api/api-vars.js","src/js/api/fetch-movie.js","src/js/render-movie-cards.js","src/js/create-movie-markup.js","src/js/genres.json","src/js/movie-modal.js","src/js/team-modal.js","src/js/scroll-up.js"],"sourcesContent":["import { API_KEY, SEARCH_URL } from './api/api-vars';\nimport { getMovies } from './api/fetch-movie.js';\nimport { renderMovieCards } from './render-movie-cards';\n\nconst refs = {\n    form: document.querySelector('.header__form'),\n    gallery: document.querySelector('.gallery'),\n}\nif (refs.form) {\n    refs.form.addEventListener('submit', onFormSubmit);\n}\n\n\n\nexport function searchMovies(movie, pageNumber) {\n    return getMovies(\n        `${SEARCH_URL}?api_key=${API_KEY}&query=${movie}&page=${pageNumber}`\n    ); \n}\n\nlet searchText = '';\n\nexport async function onFormSubmit(e) {\n    e.preventDefault();\n    \n    clearGallery();\n    \n    searchText = e.currentTarget.query.value.trim();\n    \n    const muvie = await searchMovies(searchText);\n\n    e.target.reset();\n    \n    renderMovieCards(muvie.results);\n    \n}\n\nfunction clearGallery() {\n    refs.gallery.innerHTML = '';\n}\n\n\n\n\n\n\n\n\n\n","const API_KEY = '6f3a72a470b06bab99f8d69f54b4e2d3';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TREND_URL = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\nconst ID_URL = `${BASE_URL}/movie/`;\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport { API_KEY, BASE_URL, TREND_URL, SEARCH_URL, ID_URL, BASE_IMG_URL };\n","import axios from 'axios';\n\nexport async function getMovies(url) {\n  try {\n    const response = await axios.get(`${url}`);\n\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { getMovies } from './api/fetch-movie';\nimport { createMovieMarkup } from './create-movie-markup';\nimport { TREND_URL } from './api/api-vars';\n\n(async () => {\n  const trendMoviesList = (await getMovies(TREND_URL)).results;\n\n  renderMovieCards(trendMoviesList);\n})();\n\nexport function renderMovieCards(movies) {\n  const movieGalleryMarkup = movies\n    .map(movie => createMovieMarkup(movie))\n    .join('');\n\n  document\n    .querySelector('.gallery')\n    .insertAdjacentHTML('beforeend', movieGalleryMarkup);\n}\n","import { genres } from './genres.json';\nimport { BASE_IMG_URL } from './api/api-vars';\n\nexport function createMovieMarkup(movie) {\n  const { title, genre_ids, release_date, poster_path } = movie;\n  const year = release_date.slice(0, 4);\n  const movieGenresList = getMovieGenresList(genre_ids).join(', ');\n\n  return `<li>\n            <a class=\"gallery__link\" href=\"#\">\n              <img class=\"gallery__image\" src=\"${BASE_IMG_URL}${poster_path}\" alt=\"${title} movie poster\" loading=\"lazy\">\n            \n            <div class=\"info\">\n              <p class=\"info__item\">${title}</p>\n              <div class=\"info-detail\">\n                <p class=\"info-detail__item\">${movieGenresList}</p>\n                <p class=\"info-detail__item\">${year}</p>\n              </div>\n            </div>\n            </a>\n          </li>`;\n}\n\nfunction getMovieGenresList(genresIdsList) {\n  let movieGenres = genres.reduce((acc, { id, name }) => {\n    if (genresIdsList.includes(id)) {\n      acc.push(name);\n    }\n    return acc;\n  }, []);\n  if (movieGenres.length > 3) {\n    movieGenres = movieGenres.slice(0, 2);\n    movieGenres.push('Other');\n  }\n  return movieGenres;\n}\n","{\n  \"genres\": [\n    { \"id\": 28, \"name\": \"Action\" },\n    { \"id\": 12, \"name\": \"Adventure\" },\n    { \"id\": 16, \"name\": \"Animation\" },\n    { \"id\": 35, \"name\": \"Comedy\" },\n    { \"id\": 80, \"name\": \"Crime\" },\n    { \"id\": 99, \"name\": \"Documentary\" },\n    { \"id\": 18, \"name\": \"Drama\" },\n    { \"id\": 10751, \"name\": \"Family\" },\n    { \"id\": 14, \"name\": \"Fantasy\" },\n    { \"id\": 36, \"name\": \"History\" },\n    { \"id\": 27, \"name\": \"Horror\" },\n    { \"id\": 10402, \"name\": \"Music\" },\n    { \"id\": 9648, \"name\": \"Mystery\" },\n    { \"id\": 10749, \"name\": \"Romance\" },\n    { \"id\": 878, \"name\": \"Science Fiction\" },\n    { \"id\": 10770, \"name\": \"TV Movie\" },\n    { \"id\": 53, \"name\": \"Thriller\" },\n    { \"id\": 10752, \"name\": \"War\" },\n    { \"id\": 37, \"name\": \"Western\" }\n  ]\n}","const refs = {\n  backdrop: document.querySelector('.backdrop'),\n  closeBtn: document.querySelector('button[data-dismiss=\"modal\"]'),\n};\n\nconst { backdrop, closeBtn } = refs;\n\nexport default function addAllEventListenersModal() {\n  closeBtn.addEventListener('click', onCloseBtnClick);\n  window.addEventListener('keydown', onKeydownEscape);\n  backdrop.addEventListener('click', onBackdropClick);\n}\n\nfunction onCloseBtnClick(e) {\n  e.preventDefault();\n  backdrop.classList.add('is-hidden');\n  removeAllEventListenersModal();\n}\n\nfunction onKeydownEscape(e) {\n  e.preventDefault();\n  if (e.key === 'Escape') {\n    backdrop.classList.add('is-hidden');\n  }\n  removeAllEventListenersModal();\n}\n\nfunction onBackdropClick(e) {\n  if (!e.target.classList.contains('backdrop')) {\n    return;\n  }\n  backdrop.classList.add('is-hidden');\n  removeAllEventListenersModal();\n}\n\nfunction removeAllEventListenersModal() {\n  closeBtn.removeEventListener('click', onCloseBtnClick);\n  window.removeEventListener('keydown', onKeydownEscape);\n  backdrop.removeEventListener('click', onBackdropClick);\n}\n","const teamRef = document.querySelector('.footer__link');\nconst backdropTeamRef = document.querySelector('.backdrop-team');\nconst closeBtnRef = document.querySelector('.modal-team__close-btn');\n\nteamRef.addEventListener('click', onGoitteamClick);\n\nfunction onGoitteamClick(e) {\n  e.preventDefault();\n\n  backdropTeamRef.classList.remove('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  document.addEventListener('keydown', onEscClick);\n  backdropTeamRef.addEventListener('click', onBackdropClick);\n  closeBtnRef.addEventListener('click', onCloseBtnClick);\n}\n\nfunction onEscClick(event) {\n  event.preventDefault();\n\n  if (event.code !== 'Escape') {\n    return;\n  }\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction onBackdropClick(event) {\n  if (event.target.closest('.modal-team')) {\n    return;\n  }\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction onCloseBtnClick(event) {\n  event.preventDefault();\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction removeAllEventListenersTeamModal() {\n  document.removeEventListener('keydown', onEscClick);\n  backdropTeamRef.removeEventListener('click', onBackdropClick);\n  closeBtnRef.removeEventListener('click', onCloseBtnClick);\n}\n","// scroll to top\nconst toTopBtn = document.getElementById('myBtn');\n\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    toTopBtn.style.display = 'block';\n    toTopBtn.addEventListener('click', topFunction);\n  } else {\n    toTopBtn.style.display = 'none';\n  }\n}\n\nfunction topFunction() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n"],"names":["$bpxeT","parcelRequire","$dc4975b3f34d0a2c$export$a9861bd62f48e142","$dc4975b3f34d0a2c$export$ca6dda5263526f75","$dc4975b3f34d0a2c$export$3e13cfa1fb75582c","concat","$dc4975b3f34d0a2c$export$48314f791897fe3f","$319e23c98feb679f$export$60e1c8f5f122c5ac","url","$319e23c98feb679f$var$_getMovies","apply","this","arguments","$parcel$interopDefault","$2TvXO","mark","_callee","response","$dIxxU","get","_ctx","sent","data","console","error","t0","$5229c947073b6fa9$export$8a980da361a674f","movie","title","genre_ids","release_date","poster_path","year","slice","movieGenresList","genresIdsList","movieGenres","$0b1f61b1d1b5471b$exports","genres","reduce","acc","param","id","name","includes","push","length","$5229c947073b6fa9$var$getMovieGenresList","join","$c2ae52fb08368790$export$bc472845f7b7844b","movies","movieGalleryMarkup","map","document","querySelector","insertAdjacentHTML","JSON","parse","results","$d35904b1c7f1c41e$var$refs","form","gallery","$d35904b1c7f1c41e$export$b0c4d3ac9887d994","pageNumber","addEventListener","e","$d35904b1c7f1c41e$var$_onFormSubmit","$d35904b1c7f1c41e$var$searchText","muvie","preventDefault","$d35904b1c7f1c41e$var$clearGallery","currentTarget","query","value","trim","target","reset","innerHTML","$030efa6d71473853$var$teamRef","$030efa6d71473853$var$backdropTeamRef","$030efa6d71473853$var$closeBtnRef","$030efa6d71473853$var$onEscClick","event","code","classList","add","body","toggle","$030efa6d71473853$var$removeAllEventListenersTeamModal","$030efa6d71473853$var$onBackdropClick","closest","$030efa6d71473853$var$onCloseBtnClick","removeEventListener","remove","$17f8071d162f96bc$var$toTopBtn","getElementById","$17f8071d162f96bc$var$topFunction","window","scrollTo","top","behavior","onscroll","scrollTop","documentElement","style","display"],"version":3,"file":"index.f17bab04.js.map"}