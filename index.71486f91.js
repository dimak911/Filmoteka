function e(e){return e&&e.__esModule?e.default:e}var n="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{},t={},o={},a=n.parcelRequire7dbb;null==a&&((a=function(e){if(e in t)return t[e].exports;if(e in o){var n=o[e];delete o[e];var a={id:e,exports:{}};return t[e]=a,n.call(a.exports,a,a.exports),a.exports}var i=new Error("Cannot find module '"+e+"'");throw i.code="MODULE_NOT_FOUND",i}).register=function(e,n){o[e]=n},n.parcelRequire7dbb=a);var i=a("2shzp");async function d(n){try{return(await e(i).get(`${n}`)).data}catch(e){console.error(e)}}var r;function s(e){const{title:n,genre_ids:t,release_date:o,poster_path:a}=e,i=o.slice(0,4);return`<li>\n            <a class="gallery__link" href="#">\n              <img class="gallery__image" src="https://image.tmdb.org/t/p/w500${a}" alt="${n} movie poster" loading="lazy">\n            \n            <div class="info">\n              <p class="info__item">${n}</p>\n              <div class="info-detail">\n                <p class="info-detail__item">${function(e){let n=r.genres.reduce(((n,{id:t,name:o})=>(e.includes(t)&&n.push(o),n)),[]);n.length>3&&(n=n.slice(0,2),n.push("Other"));return n}(t).join(", ")}</p>\n                <p class="info-detail__item">${i}</p>\n              </div>\n            </div>\n            </a>\n          </li>`}function l(e){const n=e.map((e=>s(e))).join("");document.querySelector(".gallery").insertAdjacentHTML("beforeend",n)}r=JSON.parse('{"genres":[{"id":28,"name":"Action"},{"id":12,"name":"Adventure"},{"id":16,"name":"Animation"},{"id":35,"name":"Comedy"},{"id":80,"name":"Crime"},{"id":99,"name":"Documentary"},{"id":18,"name":"Drama"},{"id":10751,"name":"Family"},{"id":14,"name":"Fantasy"},{"id":36,"name":"History"},{"id":27,"name":"Horror"},{"id":10402,"name":"Music"},{"id":9648,"name":"Mystery"},{"id":10749,"name":"Romance"},{"id":878,"name":"Science Fiction"},{"id":10770,"name":"TV Movie"},{"id":53,"name":"Thriller"},{"id":10752,"name":"War"},{"id":37,"name":"Western"}]}'),(async()=>{l((await d("https://api.themoviedb.org/3/trending/movie/week?api_key=6f3a72a470b06bab99f8d69f54b4e2d3")).results)})();const c={form:document.querySelector(".header__form"),gallery:document.querySelector(".gallery")};c.form&&c.form.addEventListener("submit",(async function(e){e.preventDefault(),c.gallery.innerHTML="",m=e.currentTarget.query.value.trim();const n=await(t=m,d(`https://api.themoviedb.org/3/search/movie?api_key=6f3a72a470b06bab99f8d69f54b4e2d3&query=${t}&page=${o}`));var t,o;e.target.reset(),l(n.results)}));let m="";const u={backdrop:document.querySelector(".backdrop"),closeBtn:document.querySelector('button[data-dismiss="modal"]')},{backdrop:p,closeBtn:f}=u;const y=document.querySelector(".footer__link"),b=document.querySelector(".backdrop-team"),g=document.querySelector(".modal-team__close-btn");function v(e){e.preventDefault(),"Escape"===e.code&&(b.classList.add("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),k())}function h(e){e.target.closest(".modal-team")||(b.classList.add("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),k())}function _(e){e.preventDefault(),b.classList.add("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),k()}function k(){document.removeEventListener("keydown",v),b.removeEventListener("click",h),g.removeEventListener("click",_)}y.addEventListener("click",(function(e){e.preventDefault(),b.classList.remove("backdrop-team--is-hidden"),document.body.classList.toggle("modal-open"),document.addEventListener("keydown",v),b.addEventListener("click",h),g.addEventListener("click",_)}));const L=document.getElementById("myBtn");function w(){window.scrollTo({top:0,behavior:"smooth"})}window.onscroll=function(){document.body.scrollTop>20||document.documentElement.scrollTop>20?(L.style.display="block",L.addEventListener("click",w)):L.style.display="none"};
//# sourceMappingURL=index.71486f91.js.map
