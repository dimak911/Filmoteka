{"mappings":"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","sources":["src/js/api/fetch-movie.js","src/js/create-movie-markup.js","src/js/render-movie-cards.js","src/js/genres.json","src/js/api/api-vars.js","src/js/search.js","src/js/movie-modal.js","src/js/team-modal.js","src/js/scroll-up.js"],"sourcesContent":["import axios from 'axios';\n\nexport async function getMovies(url) {\n  try {\n    const response = await axios.get(`${url}`);\n\n    return response.data;\n  } catch (error) {\n    console.error(error);\n  }\n}\n","import { genres } from './genres.json';\nimport { BASE_IMG_URL } from './api/api-vars';\n\nexport function createMovieMarkup(movie) {\n  const { title, genre_ids, release_date, poster_path } = movie;\n  const year = release_date.slice(0, 4);\n  const movieGenresList = getMovieGenresList(genre_ids).join(', ');\n\n  return `<li>\n            <a class=\"gallery__link\" href=\"#\">\n              <img class=\"gallery__image\" src=\"${BASE_IMG_URL}${poster_path}\" alt=\"${title} movie poster\" loading=\"lazy\">\n            \n            <div class=\"info\">\n              <p class=\"info__item\">${title}</p>\n              <div class=\"info-detail\">\n                <p class=\"info-detail__item\">${movieGenresList}</p>\n                <p class=\"info-detail__item\">${year}</p>\n              </div>\n            </div>\n            </a>\n          </li>`;\n}\n\nfunction getMovieGenresList(genresIdsList) {\n  let movieGenres = genres.reduce((acc, { id, name }) => {\n    if (genresIdsList.includes(id)) {\n      acc.push(name);\n    }\n    return acc;\n  }, []);\n  if (movieGenres.length > 3) {\n    movieGenres = movieGenres.slice(0, 2);\n    movieGenres.push('Other');\n  }\n  return movieGenres;\n}\n","import { getMovies } from './api/fetch-movie';\nimport { createMovieMarkup } from './create-movie-markup';\nimport { TREND_URL } from './api/api-vars';\n\n(async () => {\n  const trendMoviesList = (await getMovies(TREND_URL)).results;\n\n  renderMovieCards(trendMoviesList);\n})();\n\nexport function renderMovieCards(movies) {\n  const movieGalleryMarkup = movies\n    .map(movie => createMovieMarkup(movie))\n    .join('');\n\n  document\n    .querySelector('.gallery')\n    .insertAdjacentHTML('beforeend', movieGalleryMarkup);\n}\n","{\n  \"genres\": [\n    { \"id\": 28, \"name\": \"Action\" },\n    { \"id\": 12, \"name\": \"Adventure\" },\n    { \"id\": 16, \"name\": \"Animation\" },\n    { \"id\": 35, \"name\": \"Comedy\" },\n    { \"id\": 80, \"name\": \"Crime\" },\n    { \"id\": 99, \"name\": \"Documentary\" },\n    { \"id\": 18, \"name\": \"Drama\" },\n    { \"id\": 10751, \"name\": \"Family\" },\n    { \"id\": 14, \"name\": \"Fantasy\" },\n    { \"id\": 36, \"name\": \"History\" },\n    { \"id\": 27, \"name\": \"Horror\" },\n    { \"id\": 10402, \"name\": \"Music\" },\n    { \"id\": 9648, \"name\": \"Mystery\" },\n    { \"id\": 10749, \"name\": \"Romance\" },\n    { \"id\": 878, \"name\": \"Science Fiction\" },\n    { \"id\": 10770, \"name\": \"TV Movie\" },\n    { \"id\": 53, \"name\": \"Thriller\" },\n    { \"id\": 10752, \"name\": \"War\" },\n    { \"id\": 37, \"name\": \"Western\" }\n  ]\n}","const API_KEY = '6f3a72a470b06bab99f8d69f54b4e2d3';\nconst BASE_URL = 'https://api.themoviedb.org/3';\nconst TREND_URL = `${BASE_URL}/trending/movie/week?api_key=${API_KEY}`;\nconst SEARCH_URL = `${BASE_URL}/search/movie`;\nconst ID_URL = `${BASE_URL}/movie/`;\nconst BASE_IMG_URL = 'https://image.tmdb.org/t/p/w500';\n\nexport { API_KEY, BASE_URL, TREND_URL, SEARCH_URL, ID_URL, BASE_IMG_URL };\n","import { API_KEY, SEARCH_URL } from './api/api-vars';\nimport { getMovies } from './api/fetch-movie.js';\nimport { renderMovieCards } from './render-movie-cards';\n\nconst refs = {\n    form: document.querySelector('.header__form'),\n    gallery: document.querySelector('.gallery'),\n}\nif (refs.form) {\n    refs.form.addEventListener('submit', onFormSubmit);\n}\n\n\n\nexport function searchMovies(movie, pageNumber) {\n    return getMovies(\n        `${SEARCH_URL}?api_key=${API_KEY}&query=${movie}&page=${pageNumber}`\n    ); \n}\n\nlet searchText = '';\n\nexport async function onFormSubmit(e) {\n    e.preventDefault();\n    \n    clearGallery();\n    \n    searchText = e.currentTarget.query.value.trim();\n    \n    const muvie = await searchMovies(searchText);\n\n    e.target.reset();\n    \n    renderMovieCards(muvie.results);\n    \n}\n\nfunction clearGallery() {\n    refs.gallery.innerHTML = '';\n}\n\n\n\n\n\n\n\n\n\n","const refs = {\n  backdrop: document.querySelector('.backdrop'),\n  closeBtn: document.querySelector('button[data-dismiss=\"modal\"]'),\n};\n\nconst { backdrop, closeBtn } = refs;\n\nexport default function addAllEventListenersModal() {\n  closeBtn.addEventListener('click', onCloseBtnClick);\n  window.addEventListener('keydown', onKeydownEscape);\n  backdrop.addEventListener('click', onBackdropClick);\n}\n\nfunction onCloseBtnClick(e) {\n  e.preventDefault();\n  backdrop.classList.add('is-hidden');\n  removeAllEventListenersModal();\n}\n\nfunction onKeydownEscape(e) {\n  e.preventDefault();\n  if (e.key === 'Escape') {\n    backdrop.classList.add('is-hidden');\n  }\n  removeAllEventListenersModal();\n}\n\nfunction onBackdropClick(e) {\n  if (!e.target.classList.contains('backdrop')) {\n    return;\n  }\n  backdrop.classList.add('is-hidden');\n  removeAllEventListenersModal();\n}\n\nfunction removeAllEventListenersModal() {\n  closeBtn.removeEventListener('click', onCloseBtnClick);\n  window.removeEventListener('keydown', onKeydownEscape);\n  backdrop.removeEventListener('click', onBackdropClick);\n}\n","const teamRef = document.querySelector('.footer__link');\nconst backdropTeamRef = document.querySelector('.backdrop-team');\nconst closeBtnRef = document.querySelector('.modal-team__close-btn');\n\nteamRef.addEventListener('click', onGoitteamClick);\n\nfunction onGoitteamClick(e) {\n  e.preventDefault();\n\n  backdropTeamRef.classList.remove('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  document.addEventListener('keydown', onEscClick);\n  backdropTeamRef.addEventListener('click', onBackdropClick);\n  closeBtnRef.addEventListener('click', onCloseBtnClick);\n}\n\nfunction onEscClick(event) {\n  event.preventDefault();\n\n  if (event.code !== 'Escape') {\n    return;\n  }\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction onBackdropClick(event) {\n  if (event.target.closest('.modal-team')) {\n    return;\n  }\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction onCloseBtnClick(event) {\n  event.preventDefault();\n\n  backdropTeamRef.classList.add('backdrop-team--is-hidden');\n  document.body.classList.toggle('modal-open');\n\n  removeAllEventListenersTeamModal();\n}\n\nfunction removeAllEventListenersTeamModal() {\n  document.removeEventListener('keydown', onEscClick);\n  backdropTeamRef.removeEventListener('click', onBackdropClick);\n  closeBtnRef.removeEventListener('click', onCloseBtnClick);\n}\n","// scroll to top\nconst toTopBtn = document.getElementById('myBtn');\n\nwindow.onscroll = function () {\n  scrollFunction();\n};\n\nfunction scrollFunction() {\n  if (document.body.scrollTop > 20 || document.documentElement.scrollTop > 20) {\n    toTopBtn.style.display = 'block';\n    toTopBtn.addEventListener('click', topFunction);\n  } else {\n    toTopBtn.style.display = 'none';\n  }\n}\n\nfunction topFunction() {\n  window.scrollTo({\n    top: 0,\n    behavior: 'smooth',\n  });\n}\n"],"names":["$2shzp","parcelRequire","async","$c5553b5f0de3ff37$export$60e1c8f5f122c5ac","url","$parcel$interopDefault","get","data","error","console","$0eb172ba7d82ec3b$export$8a980da361a674f","movie","title","genre_ids","release_date","poster_path","year","slice","genresIdsList","movieGenres","$1a18d98a372d8e28$exports","genres","reduce","acc","id","name","includes","push","length","$0eb172ba7d82ec3b$var$getMovieGenresList","join","$662e245138d28e1d$export$bc472845f7b7844b","movies","movieGalleryMarkup","map","document","querySelector","insertAdjacentHTML","JSON","parse","results","$b18fd23e9761f35d$var$refs","form","gallery","addEventListener","e","preventDefault","innerHTML","$b18fd23e9761f35d$var$searchText","currentTarget","query","value","trim","muvie","pageNumber","target","reset","$4281cb08e8defb2a$var$refs","backdrop","closeBtn","$4281cb08e8defb2a$var$backdrop","$4281cb08e8defb2a$var$closeBtn","$8221e5996eb79faa$var$teamRef","$8221e5996eb79faa$var$backdropTeamRef","$8221e5996eb79faa$var$closeBtnRef","$8221e5996eb79faa$var$onEscClick","event","code","classList","add","body","toggle","$8221e5996eb79faa$var$removeAllEventListenersTeamModal","$8221e5996eb79faa$var$onBackdropClick","closest","$8221e5996eb79faa$var$onCloseBtnClick","removeEventListener","remove","$52650fc44c8b8200$var$toTopBtn","getElementById","$52650fc44c8b8200$var$topFunction","window","scrollTo","top","behavior","onscroll","scrollTop","documentElement","style","display"],"version":3,"file":"index.71486f91.js.map"}